<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Portfolio</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        h1 {
            color: white;
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.2rem;
        }

        .nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .nav-btn:hover, .nav-btn.active {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .section {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .section.active {
            display: block;
        }

        .section h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 2rem;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .editable {
            border: 2px dashed transparent;
            padding: 10px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .editable:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        .editable[contenteditable="true"] {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
            outline: none;
        }

        .edit-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            margin-left: 10px;
            transition: all 0.3s ease;
        }

        .edit-btn:hover {
            background: #5a6fd8;
            transform: scale(1.05);
        }

        .folder-manager {
            margin-bottom: 30px;
        }

        .folder-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .folder-controls input {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 10px;
            flex: 1;
            min-width: 200px;
        }

        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background: #5a6fd8;
            transform: translateY(-1px);
        }

        .btn-danger {
            background: #e74c3c;
        }

        .btn-danger:hover {
            background: #c0392b;
        }

        .folders-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .folder {
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
        }

        .folder:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            border-color: #667eea;
        }

        .folder.selected {
            border-color: #667eea;
            background: linear-gradient(145deg, #667eea, #5a6fd8);
            color: white;
        }

        .folder-icon {
            font-size: 3rem;
            margin-bottom: 10px;
            color: #667eea;
        }

        .folder.selected .folder-icon {
            color: white;
        }

        .file-upload-area {
            border: 3px dashed #667eea;
            border-radius: 15px;
            padding: 40px 20px;
            text-align: center;
            margin: 20px 0;
            background: rgba(102, 126, 234, 0.05);
            transition: all 0.3s ease;
        }

        .file-upload-area:hover {
            background: rgba(102, 126, 234, 0.1);
            transform: scale(1.02);
        }

        .file-upload-area.dragover {
            border-color: #5a6fd8;
            background: rgba(102, 126, 234, 0.15);
        }

        .files-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .file-item {
            background: white;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .file-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .file-preview {
            width: 100%;
            height: 120px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .delete-file {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            font-size: 14px;
        }

        .carousel-container {
            position: relative;
            margin: 30px 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }

        .carousel {
            display: flex;
            overflow: hidden;
            border-radius: 10px;
            position: relative;
        }

        .carousel-track {
            display: flex;
            transition: transform 0.5s ease;
        }

        .carousel-slide {
            min-width: 100%;
            position: relative;
        }

        .carousel-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            cursor: pointer;
            border-radius: 10px;
        }

        .carousel-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .carousel-btn {
            background: rgba(255, 255, 255, 0.8);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s ease;
        }

        .carousel-btn:hover {
            background: white;
            transform: scale(1.1);
        }

        .upload-btn-container {
            text-align: center;
            margin-top: 20px;
        }

        .upload-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .lightbox.active {
            display: flex;
        }

        .lightbox-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
        }

        .lightbox-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .lightbox-controls {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.8);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.3s ease;
        }

        .lightbox-prev {
            left: -60px;
        }

        .lightbox-next {
            right: -60px;
        }

        .lightbox-controls:hover {
            background: white;
            transform: translateY(-50%) scale(1.1);
        }

        .lightbox-close {
            position: absolute;
            top: -60px;
            right: 0;
            background: rgba(255, 255, 255, 0.8);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            font-size: 18px;
        }

        .lightbox-close:hover {
            background: white;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            h1 {
                font-size: 2rem;
            }

            .folder-controls {
                flex-direction: column;
            }

            .folders-grid {
                grid-template-columns: 1fr;
            }

            .files-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }

            .carousel-image {
                height: 250px;
            }

            .lightbox-controls {
                position: static;
                margin: 20px 10px 0;
            }

            .lightbox-content {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>My Portfolio</h1>
            <p class="subtitle">Welcome to my creative space</p>
        </header>

        <nav class="nav">
            <button class="nav-btn active" data-section="about">About</button>
            <button class="nav-btn" data-section="hobbies">Hobbies</button>
            <button class="nav-btn" data-section="portfolio">Portfolio</button>
            <button class="nav-btn" data-section="contact">Contact</button>
        </nav>

        <section class="section active" id="about">
            <h2>About Me</h2>
            <div class="editable" id="about-content">
                <p>Hello! I'm a passionate creator who loves to explore new technologies and express creativity through various mediums. This portfolio showcases my journey and the projects I'm most proud of.</p>
                <p>I believe in continuous learning and pushing the boundaries of what's possible. Whether it's coding, design, or any other creative pursuit, I approach each project with enthusiasm and attention to detail.</p>
            </div>
            <button class="edit-btn" onclick="toggleEdit('about-content')">Edit</button>
        </section>

        <section class="section" id="hobbies">
            <h2>My Hobbies</h2>
            <div class="editable" id="hobbies-content">
                <p>Photography, coding, hiking, and digital art are some of my favorite ways to spend time. Each hobby brings its own unique perspective and helps me grow as a person and professional.</p>
            </div>
            <button class="edit-btn" onclick="toggleEdit('hobbies-content')">Edit</button>
            
            <div class="carousel-container">
                <div class="carousel" id="hobbies-carousel">
                    <div class="carousel-track" id="carousel-track">
                        <div class="carousel-slide">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='400' viewBox='0 0 800 400'%3E%3Crect width='800' height='400' fill='%23f0f0f0'/%3E%3Ctext x='400' y='200' text-anchor='middle' dy='0.3em' font-family='Arial' font-size='24' fill='%23999'%3EUpload your first photo%3C/text%3E%3C/svg%3E" alt="Upload first photo" class="carousel-image">
                        </div>
                    </div>
                </div>
                
                <div class="carousel-controls">
                    <button class="carousel-btn" onclick="previousSlide()">‹</button>
                    <button class="carousel-btn" onclick="nextSlide()">›</button>
                </div>
                
                <div class="upload-btn-container">
                    <input type="file" id="hobby-upload" multiple accept="image/*" style="display: none;">
                    <button class="upload-btn" onclick="document.getElementById('hobby-upload').click()">Upload Photos</button>
                </div>
            </div>
        </section>

         <section class="section" id="portfolio">
      <h2>Portfolio Manager</h2>

      <div class="folder-manager">

        <!-- Folder Controls -->
        <div class="folder-controls" id="folder-controls" style="display:flex; gap:10px; margin-bottom:1rem;">
          <input type="text" id="folder-name" placeholder="Enter folder name">
          <button class="btn" onclick="createFolder()">Create Folder</button>
        </div>

        <!-- Folder Grid -->
        <div class="folders-grid" id="folders-container"></div>

        <!-- Inside Folder Header -->
        <div id="folder-header" style="display:none; margin-bottom:1rem; align-items:center; gap:10px;">
          <button class="btn" onclick="exitFolder()">⬅ Back</button>
          <span id="current-folder-name" style="font-weight:bold;"></span>
          <button class="btn btn-danger" onclick="deleteSelectedFolder()">Delete This Folder</button>
        </div>

        <!-- Upload Area -->
        <div class="file-upload-area" id="upload-area">
          <h3>Drop files here or click to upload</h3>
          <p>Open a folder first, then drag & drop files or click to browse</p>
          <input type="file" id="file-input" multiple style="display: none;">
        </div>

        <!-- Files Grid -->
        <div class="files-grid" id="files-container"></div>
      </div>
    </section>

        <section class="section" id="contact">
            <h2>Contact Me</h2>
            <div class="editable" id="contact-content">
                <p>Feel free to reach out if you'd like to collaborate or just want to say hello!</p>
                <p>Email: your.email@example.com</p>
                <p>LinkedIn: Your LinkedIn Profile</p>
                <p>GitHub: Your GitHub Profile</p>
            </div>
            <button class="edit-btn" onclick="toggleEdit('contact-content')">Edit</button>
        </section>
    </div>

    <div class="lightbox" id="lightbox">
        <div class="lightbox-content">
            <img class="lightbox-image" id="lightbox-image" src="" alt="">
            <button class="lightbox-close" onclick="closeLightbox()">×</button>
            <button class="lightbox-controls lightbox-prev" onclick="lightboxPrevious()">‹</button>
            <button class="lightbox-controls lightbox-next" onclick="lightboxNext()">›</button>
        </div>
    </div>

    <script>
  // Global variables
  let folders = [];
  let selectedFolder = null;
  let folderFiles = {};
  let hobbyImages = [];
  let currentCarouselIndex = 0;
  let currentLightboxImages = [];
  let currentLightboxIndex = 0;

  // ================================
// STORAGE FUNCTIONS
// ================================
function saveToStorage() {
  localStorage.setItem("folders", JSON.stringify(folders));
  localStorage.setItem("folderFiles", JSON.stringify(folderFiles));
}

function loadFromStorage() {
  const savedFolders = localStorage.getItem("folders");
  const savedFiles = localStorage.getItem("folderFiles");

  if (savedFolders && savedFiles) {
    folders = JSON.parse(savedFolders);
    folderFiles = JSON.parse(savedFiles);
    updateFoldersDisplay();
  }
}


  // ================================
  // NAVIGATION
  // ================================
  document.querySelectorAll('.nav-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const section = btn.dataset.section;
      showSection(section);
      document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
    });
  });

  function showSection(sectionId) {
    document.querySelectorAll('.section').forEach(section => {
      section.classList.remove('active');
    });
    document.getElementById(sectionId).classList.add('active');
  }

  // ================================
  // EDITABLE CONTENT
  // ================================
  function toggleEdit(elementId) {
    const element = document.getElementById(elementId);
    const isEditable = element.contentEditable === 'true';
    if (isEditable) {
      element.contentEditable = 'false';
      element.style.border = '2px dashed transparent';
    } else {
      element.contentEditable = 'true';
      element.focus();
    }
  }

  // ================================
  // FOLDER MANAGEMENT
  // ================================
  function createFolder() {
    const folderName = document.getElementById('folder-name').value.trim();
    if (!folderName) return alert("Enter a folder name");
    if (folders.includes(folderName)) return alert("Folder already exists");

    folders.push(folderName);
    folderFiles[folderName] = [];
    updateFoldersDisplay();
    document.getElementById('folder-name').value = '';
    saveToStorage();
  }

  function updateFoldersDisplay() {
    const container = document.getElementById('folders-container');
    container.innerHTML = '';

    folders.forEach(folderName => {
      const folderDiv = document.createElement('div');
      folderDiv.className = 'folder';
      folderDiv.innerHTML = `
        <div class="folder-icon">📁</div>
        <h4>${folderName}</h4>
        <small>${folderFiles[folderName].length} files</small>
      `;
      folderDiv.addEventListener('click', () => openFolder(folderName));
      container.appendChild(folderDiv);
    });
  }

  function openFolder(folderName) {
    selectedFolder = folderName;
    document.getElementById('folders-container').style.display = "none";
    document.getElementById('folder-controls').style.display = "none";
    document.getElementById('folder-header').style.display = "flex";
    document.getElementById('current-folder-name').textContent = folderName;
    updateFilesDisplay();
  }

  function exitFolder() {
    selectedFolder = null;
    document.getElementById('folders-container').style.display = "grid";
    document.getElementById('folder-controls').style.display = "flex";
    document.getElementById('folder-header').style.display = "none";
    document.getElementById('files-container').innerHTML = "";
    updateFoldersDisplay();
  }

  function deleteSelectedFolder() {
    if (!selectedFolder) return alert("Open a folder first");
    if (!confirm(`Delete folder "${selectedFolder}" and all its files?`)) return;

    folders = folders.filter(f => f !== selectedFolder);
    delete folderFiles[selectedFolder];
    exitFolder();
    updateFoldersDisplay();
    saveToStorage();
  }

  // ================================
  // FILES
  // ================================
  function updateFilesDisplay() {
    const container = document.getElementById('files-container');
    container.innerHTML = '';

    if (!selectedFolder) return;
    const files = folderFiles[selectedFolder];

    if (files.length === 0) {
      container.innerHTML = `<p style="grid-column:1/-1;text-align:center;color:#666;">No files yet</p>`;
      return;
    }

    files.forEach((file, index) => {
      const fileDiv = document.createElement('div');
      fileDiv.className = 'file-item';

      let preview = '';
      if (file.data.startsWith("data:image")) {
        preview = `<img src="${file.data}" alt="${file.name}" class="file-preview">`;
      } else {
        preview = `<div class="file-preview" style="display:flex;align-items:center;justify-content:center;background:#f0f0f0;color:#666;">📄</div>`;
      }

      fileDiv.innerHTML = `
        ${preview}
        <h5>${file.name}</h5>
        <small>${(file.size/1024).toFixed(1)} KB</small>
        <button class="delete-file">×</button>
      `;

      // click preview
      fileDiv.addEventListener('click', (e) => {
        if (e.target.classList.contains("delete-file")) return;
        if (file.type.startsWith("image/")) {
          currentLightboxImages = folderFiles[selectedFolder]
            .filter(f => f.type.startsWith("image/"))
            .map(f => f.data);
          currentLightboxIndex = currentLightboxImages.indexOf(file.data);
          document.getElementById('lightbox').classList.add('active');
          updateLightboxImage();
        } else if (file.type === "text/html") {
          const newWindow = window.open();
          newWindow.document.open();
          newWindow.document.write(atob(file.data.split(",")[1]));
          newWindow.document.close();
        } else {
          alert("Preview not available for this file type.");
        }
      });

      // delete file
      fileDiv.querySelector('.delete-file').addEventListener('click', () => {
        if (confirm("Delete this file?")) {
          folderFiles[selectedFolder].splice(index, 1);
          updateFilesDisplay();
          updateFoldersDisplay();
          saveToStorage();
        }
      });

      container.appendChild(fileDiv);
    });
  }

  // ================================
  // FILE UPLOAD
  // ================================
  const uploadArea = document.getElementById("upload-area");
  const fileInput = document.getElementById("file-input");

  uploadArea.addEventListener("click", () => fileInput.click());
  uploadArea.addEventListener("dragover", e => {
    e.preventDefault();
    uploadArea.classList.add("dragover");
  });
  uploadArea.addEventListener("dragleave", () => uploadArea.classList.remove("dragover"));
  uploadArea.addEventListener("drop", e => {
    e.preventDefault();
    uploadArea.classList.remove("dragover");
    if (!selectedFolder) return alert("Open a folder first");
    handleFiles(e.dataTransfer.files);
  });
  fileInput.addEventListener("change", () => {
    if (!selectedFolder) return alert("Open a folder first");
    handleFiles(fileInput.files);
  });

  function handleFiles(files) {
    [...files].forEach(file => {
      const reader = new FileReader();
      reader.onload = e => {
        folderFiles[selectedFolder].push({
          name: file.name,
          size: file.size,
          type: file.type,
          data: e.target.result
        });
        updateFilesDisplay();
        updateFoldersDisplay();
        saveToStorage();
      };
      reader.readAsDataURL(file);
    });
  }

  // ================================
  // LIGHTBOX
  // ================================
  const lightbox = document.getElementById("lightbox");
  const lightboxImg = document.getElementById("lightbox-img");

  document.getElementById("lightbox-close").addEventListener("click", () => {
    lightbox.classList.remove("active");
  });

  document.getElementById("prev-img").addEventListener("click", () => {
    if (currentLightboxImages.length > 0) {
      currentLightboxIndex = (currentLightboxIndex - 1 + currentLightboxImages.length) % currentLightboxImages.length;
      updateLightboxImage();
    }
  });

  document.getElementById("next-img").addEventListener("click", () => {
    if (currentLightboxImages.length > 0) {
      currentLightboxIndex = (currentLightboxIndex + 1) % currentLightboxImages.length;
      updateLightboxImage();
    }
  });

  function updateLightboxImage() {
    lightboxImg.src = currentLightboxImages[currentLightboxIndex];
  }

  // ================================
  // INIT
  // ================================
  document.addEventListener("DOMContentLoaded", loadFromStorage);


        
        // Hobbies carousel functionality
        const hobbyUpload = document.getElementById('hobby-upload');
        hobbyUpload.addEventListener('change', (e) => {
            Array.from(e.target.files).forEach(file => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    hobbyImages.push(e.target.result);
                    updateCarousel();
                };
                reader.readAsDataURL(file);
            });
        });

        function updateCarousel() {
            const track = document.getElementById('carousel-track');
            track.innerHTML = '';
            
            if (hobbyImages.length === 0) {
                track.innerHTML = `
                    <div class="carousel-slide">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='400' viewBox='0 0 800 400'%3E%3Crect width='800' height='400' fill='%23f0f0f0'/%3E%3Ctext x='400' y='200' text-anchor='middle' dy='0.3em' font-family='Arial' font-size='24' fill='%23999'%3EUpload your first photo%3C/text%3E%3C/svg%3E" alt="Upload first photo" class="carousel-image">
                    </div>
                `;
                return;
            }
            
            hobbyImages.forEach((src, index) => {
                const slide = document.createElement('div');
                slide.className = 'carousel-slide';
                slide.innerHTML = `<img src="${src}" alt="Hobby image ${index + 1}" class="carousel-image" onclick="openLightbox(${index}, 'hobby')">`;
                track.appendChild(slide);
            });
            
            updateCarouselPosition();
        }

        function nextSlide() {
            if (hobbyImages.length === 0) return;
            currentCarouselIndex = (currentCarouselIndex + 1) % hobbyImages.length;
            updateCarouselPosition();
        }

        function previousSlide() {
            if (hobbyImages.length === 0) return;
            currentCarouselIndex = currentCarouselIndex === 0 ? hobbyImages.length - 1 : currentCarouselIndex - 1;
            updateCarouselPosition();
        }

        function updateCarouselPosition() {
            const track = document.getElementById('carousel-track');
            const translateX = -currentCarouselIndex * 100;
            track.style.transform = `translateX(${translateX}%)`;
        }

        // Lightbox functionality
        function openLightbox(index, source) {
            currentLightboxIndex = index;
            
            if (source === 'hobby') {
                currentLightboxImages = hobbyImages;
            }
            
            if (currentLightboxImages.length === 0) return;
            
            updateLightboxImage();
            document.getElementById('lightbox').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function lightboxNext() {
            currentLightboxIndex = (currentLightboxIndex + 1) % currentLightboxImages.length;
            updateLightboxImage();
        }

        function lightboxPrevious() {
            currentLightboxIndex = currentLightboxIndex === 0 ? currentLightboxImages.length - 1 : currentLightboxIndex - 1;
            updateLightboxImage();
        }

        function updateLightboxImage() {
            const img = document.getElementById('lightbox-image');
            img.src = currentLightboxImages[currentLightboxIndex];
        }

        // Keyboard navigation for lightbox
        document.addEventListener('keydown', (e) => {
            if (!document.getElementById('lightbox').classList.contains('active')) return;
            
            if (e.key === 'Escape') {
                closeLightbox();
            } else if (e.key === 'ArrowLeft') {
                lightboxPrevious();
            } else if (e.key === 'ArrowRight') {
                lightboxNext();
            }
        });

        // Close lightbox when clicking outside the image
        document.getElementById('lightbox').addEventListener('click', (e) => {
            if (e.target.id === 'lightbox') {
                closeLightbox();
            }
        });

        // Initialize the page
        window.addEventListener('load', () => {
            initializeFolderStructure();
            updateDisplay();
            updateBreadcrumb();
            updateCarousel();
        });
    </script>
</body>
</html>
